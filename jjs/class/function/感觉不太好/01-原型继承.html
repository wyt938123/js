<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        //本质是利用现有对象作为原型，创建一个新对象

        //优点：

        // 父类方法可复用
        // 缺点：

        // 父类的引用会被所有子类所共享
        // 子类实例不能向父类传参
        // ES5的Object.create()方法在只有第一个参数时，与这里的objectCopy()方法效果相同
        function objectCopy(obj) {
            function Fun() { };
            Fun.prototype = obj;
            return new Fun()
        }

        let person = {
            name: "yhd",
            age: 18,
            friends: ["jack", "tom", "rose"],
            sayName: function () {
                console.log(this.name);
            }
        }

        let person1 = objectCopy(person);
        person1.name = "wxb";
        person1.friends.push("lily");
        person1.sayName(); // wxb

        let person2 = objectCopy(person);
        person2.name = "gsr";
        person2.friends.push("kobe");
        person2.sayName(); // "gsr"

        console.log(person.friends); // ["jack", "tom", "rose", "lily", "kobe"]
    </script>
</body>

</html>